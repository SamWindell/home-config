#!/usr/bin/env bash

projectDir=~/Projects/floe

pane0=$(wezterm cli spawn --cwd "$projectDir" --new-window -- nix develop)
wezterm cli set-tab-title --pane-id $pane0 "Editor"
wezterm cli send-text --pane-id $pane0 $'nvim\n'

pane1=$(wezterm cli spawn --cwd "$projectDir" --pane-id $pane0 -- nix develop)
wezterm cli set-tab-title --pane-id $pane1 "Docs Server"
wezterm cli send-text --pane-id $pane1 $'cd docs\n'
wezterm cli send-text --pane-id $pane1 $'mdbook serve\n'

pane2=$(wezterm cli spawn --cwd "$projectDir" --pane-id $pane0 -- nix develop)
wezterm cli set-tab-title --pane-id $pane2 "Shell"

wezterm cli activate-pane --pane-id $pane0
